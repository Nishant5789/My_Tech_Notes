<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-red-400 flex justify-center ">
    <div class="container h-96 w-3/5 bg-sky-400 mt-24 flex flex-col justify-evenly items-center ">
        <h3 class="">Best jokes to make your day </h3>
        <div class="joke my-5" id="joke">awesome Joke is Loading.....</div>
        <button class="btn bg-yellow-500 rounded-md p-2  text-white hover:bg-blue-800 active:bg-blue-800 focus:outline-none focus:ring focus:ring-violet-300 font-bold" id="jokebtn">Next Joke</button>
    </div>
<script>

    const jokes = document.querySelector('#joke');
    const jokebtn= document.querySelector('#jokebtn');

    // const genrate_joke = () =>
    // {
    //     // for watch at console 
    //     // fetch('GET https://icanhazdadjoke.com/', setHeader)
    //     // .then((res)=>{
    //     //     console.log(res.json());
    //     // }).catch((error)=>
    //     // {
    //     //     console.log(error);
    //     // })
    //     const setHeader={
    //     headers: {
    //         Accept : "application/json"
    //     }}
    // // Using promises first method using promise
    // //         here we need we set that json will accept inheader beacause api send html file
    //     fetch('https://icanhazdadjoke.com/', setHeader)
    //     .then((res)=>
    //         res.json()
    //     ).then((data)=>
    //     {
    //         jokes.innerHTML=data.joke;
    //     }).catch((error)=>
    //     {
    //         console.log(error);
    //     })
    // }

     //--------------------------- seocnd method async ------------------------------
     const genrate_joke = async () =>
    {
        try
        {
            const setHeader = {
            headers: {
            Accept : "application/json"
            }
        }
        // it wait the fethcing the data
            const res=await fetch('https://icanhazdadjoke.com/', setHeader);
            const data=await res.json();
            jokes.innerHTML=data.joke;
        }
        catch(err){
            console.log(`the erroer is ${err}`);
        }
    }
        jokebtn.addEventListener('click', genrate_joke);
        genrate_joke();
</script>
</body>
</html>